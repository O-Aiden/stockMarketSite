
---
desc: ç”± genpost (https://github.com/hidevopsio/genpost) ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆ
title: åæ ‡test
date: 2019-09-11T13:45:57+08:00
author: Aiden
draft: false
tags:
- é‡‘é’±çˆ†è®°å½•
---
<!DOCTYPE html>
<html>
 
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			#canvas {
				border: thin solid red;
			}
		</style>
	</head>
 
	<body>
        <canvas id="canvas" width="800" height="600"></canvas>
        <button type="button"  onclick="javascript:huaShiXian(0,35,35,0)">çº¿ä¸€</button>
        <button type="button"  onclick="javascript:huaShiXian(0,50,50,0)">çº¿äºŒ</button>
        <button type="button"  onclick="javascript:huaXuXian(0,0,10,10)">çº¿ä¸‰</button>
        <button type="button"  onclick="javascript:huaXian(0,0,25,25,'red',2,8)">çº¿å››</button>

	</body>
	<script type="text/javascript">
		var canvas = document.getElementById("canvas");
		var context = canvas.getContext("2d");
		/*
		//è‡ªé€‚åº”å±å¹•
		canvas.width = document.documentElement.clientWidth;
		canvas.height = document.documentElement.clientHeight;	
		
		canvas.width = screen.availWidth;
		canvas.height = screen.availHeight;

		canvas.width = screen.width;
		canvas.height = screen.height;

		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		*/
		
		 //æ°´å¹³æ ‡å°ºä¸canvasçš„è·ç¦»
		var HORIZONTAL_AXIS_MARGIN = 50;
		 //ç«–ç›´æ ‡å°ºä¸canvasçš„è·ç¦»
		var VERTICAL_AXIS_MARGIN = 50;
		 //æ ‡å°ºèµ·ç‚¹
		var AXIS_ORIGIN = {
			x: HORIZONTAL_AXIS_MARGIN,
			y: canvas.height - VERTICAL_AXIS_MARGIN
		};
		 //åæ ‡çš„é¡¶éƒ¨
		var AXIS_TOP = VERTICAL_AXIS_MARGIN;
		 //åæ ‡çš„é•¿åº¦
		var AXIS_RIGHT = canvas.width - HORIZONTAL_AXIS_MARGIN;
		 //å°æ ‡è®°çš„é—´éš”
		var HORIZONTAL_TICK_SPACING = 10;
		var VERTICAL_TICK_SPACING = 10;
		 //åæ ‡æ ‡è®°çš„èŒƒå›´
		var AXIS_WIDTH = AXIS_RIGHT - AXIS_ORIGIN.x;
		var AXIS_HEIGHT = AXIS_ORIGIN.y - AXIS_TOP;
		 //çºµå‘æ ‡è®°æ•°å€¼
		var NUM_VERTICAL_TICKS = AXIS_HEIGHT / VERTICAL_TICK_SPACING;
		 //æ¨ªå‘æ ‡è®°æ•°å€¼
		var NUM_HORIZONTAL_TICKS = AXIS_WIDTH / HORIZONTAL_TICK_SPACING;
		var TICK_WIDTH = 10;
		 //æ ‡ç‰Œå’Œåæ ‡è½´ä¹‹é—´çš„è·ç¦»
		var SPACE_BETWEEN_ABELS_AND_AXIS = 20;
        

        function drawAxes() {
			context.save();
			context.lineWidth = 1.0;
			context.fillStyle = "rgba(100, 140, 230, 0.8)";
			context.strokeStyle = "navy";
			drawHorizontalAxis();
			drawVerticalAxis();

            context.lineWidth = 0.5;
			context.strokeStyle = "navy";
			context.strokeStyle = "darkred";
			drawVerticalAxisTicks();
			drawHorizontalAxisTicks();
			context.restore();
        }


    

//å»¶æ—¶ç”»çº¿,e:å»¶æ—¶æ—¶é—´
function yanShiHuaXian(a,b,c,d,yanShi){
    var t=null;    //åˆå§‹åŒ–å®šæ—¶å™¨
	//e/10æ¯«ç§’æ‰§è¡Œä¸€æ¬¡
	t=setInterval(function(){	
	//context.clearRect(0,0,context.width,context.height);	//æ¯æ¬¡æ¸…ç©ºä¸Šæ¬¡ç”»å¸ƒ
    huaShiXian(a,b,c,d);		
	},yanShi)    
}
	


			//ç»˜åˆ¶æ°´å¹³çš„å°æ ‡
 
		function drawHorizontalAxisTicks() {
			var deltaY;
			for (var i = 1; i < NUM_HORIZONTAL_TICKS; i++) {
				context.beginPath();
				//åˆ¤æ–­ç”»çš„æ˜¯å¤§åæ ‡è¿˜æ˜¯çŸ­åæ ‡
				if (i % 5 == 0) {
					deltaY = TICK_WIDTH;
				} else {
					deltaY = TICK_WIDTH / 2
				}
				context.moveTo(AXIS_ORIGIN.x + i * HORIZONTAL_TICK_SPACING,
					AXIS_ORIGIN.y - deltaY);
				context.lineTo(AXIS_ORIGIN.x + i * HORIZONTAL_TICK_SPACING,
					AXIS_ORIGIN.y + deltaY);
				context.stroke();
			}
		}
		
		//ç»˜åˆ¶æ•°å€¼çš„å°æ ‡
		function drawVerticalAxisTicks() {
			var deltaX;
			for (var i = 1; i < NUM_VERTICAL_TICKS; i++) {
				context.beginPath();
				if (i % 5 === 0) {
					deltaX = TICK_WIDTH;
				} else {
					deltaX = TICK_WIDTH / 2;
				}
				context.moveTo(AXIS_ORIGIN.x - deltaX,
					AXIS_ORIGIN.y - i * VERTICAL_TICK_SPACING);
				context.lineTo(AXIS_ORIGIN.x + deltaX,
					AXIS_ORIGIN.y - i * VERTICAL_TICK_SPACING);
				context.stroke();
			}
		}
		
		//ç”»ç«–ç›´çº¿
		function drawVerticalAxis() {
			context.beginPath();
			context.moveTo(AXIS_ORIGIN.x, AXIS_ORIGIN.y);
			context.lineTo(AXIS_ORIGIN.x, AXIS_TOP);
			context.stroke();
		}



//drawXieAxis(550,550,50,50)
        //ç”»å®çº¿
		function huaShiXian(a,b,c,d) {
			context.beginPath();
			context.moveTo((a/5 + 1)*50, (11 - b/5)*50);
			context.lineTo((c/5 + 1)*50, (11 - d/5)*50);
			context.stroke();
		}

        //ç”»è™šçº¿,abcdä¸ºåæ ‡ï¼Œeä¸ºé¢œè‰²
		function huaXuXian(a,b,c,d) {
            // è®¾ç½®çº¿å®½
            context.lineWidth = 4;
            // è®¾ç½®é—´è·ï¼ˆå‚æ•°ä¸ºæ— é™æ•°ç»„ï¼Œè™šçº¿çš„æ ·å¼ä¼šéšæ•°ç»„å¾ªç¯ï¼‰
            context.setLineDash([8, 8]);
			context.beginPath();
			context.moveTo((a/5 + 1)*50, (11 - b/5)*50);
			context.lineTo((c/5 + 1)*50, (11 - d/5)*50);
            // å¡«å……é¢œè‰²
            context.strokeStyle="red";
			context.stroke();
		}

                //ç”»è™šçº¿,abcdä¸ºåæ ‡ï¼Œcolorä¸ºé¢œè‰²,eä¸ºçº¿å®½,fè°ƒè™šçº¿
		function huaXian(a,b,c,d,color,xianKuan,xuXian) {
            // è®¾ç½®çº¿å®½
            if(!xianKuan){xianKuan=2}
            context.lineWidth = xianKuan;
            // è®¾ç½®é—´è·ï¼ˆå‚æ•°ä¸ºæ— é™æ•°ç»„ï¼Œè™šçº¿çš„æ ·å¼ä¼šéšæ•°ç»„å¾ªç¯ï¼‰
            if(!xuXian){xuXian=8}
            context.setLineDash([xuXian, xuXian]);
			context.beginPath();
			context.moveTo((a/5 + 1)*50, (11 - b/5)*50);
			context.lineTo((c/5 + 1)*50, (11 - d/5)*50);
            // å¡«å……é¢œè‰²
            if(!color){color="black"}
            context.strokeStyle=color;
			context.stroke();
		}
		
		//ç”»æ°´å¹³çº¿
		function drawHorizontalAxis() {
			context.beginPath();
			context.moveTo(AXIS_ORIGIN.x, AXIS_ORIGIN.y);
			context.lineTo(AXIS_RIGHT, AXIS_ORIGIN.y);
			context.stroke();
		}
		//ç»˜åˆ¶æ ‡æ³¨
		function drawAxisLabels() {
			context.fillStyle = "blue";
			drawHorizontalAxisLabels();
            //ğŸ¥¿
            xieZi('é‡‘é’±çˆ†',10,50)
			drawVerticalAxisLabels();
		}
			//ç»˜åˆ¶ç«–ç›´è½´æ ‡æ³¨
 
		function drawVerticalAxisLabels() {
			context.textAlign = "center";
			context.textBaseline = "top";
			for (var i = 0; i <= NUM_HORIZONTAL_TICKS; i++) {
				if (i % 5 === 0) {
					context.fillText(i,
						AXIS_ORIGIN.x + i * HORIZONTAL_TICK_SPACING,
						AXIS_ORIGIN.y + SPACE_BETWEEN_ABELS_AND_AXIS);
				}
			}
		}



            //å†™å­—,c:éœ€è¦å¤‡æ³¨çš„å­—ï¼Œa:æ¨ªåæ ‡,b:çºµåæ ‡,
            function xieZi(c,a,b) {
                var c;
                var a;
                var b;
                context.fillText(c,
						AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS + a * 10,
						AXIS_ORIGIN.y - 0 * VERTICAL_TICK_SPACING + -b * 10);
		}

			//ç»˜åˆ¶æ°´å¹³è½´æ ‡æ³¨
 
		function drawHorizontalAxisLabels() {
			context.textAlign = "center";
			context.textBaseline = "middle";
			for (var i = 0; i <= NUM_VERTICAL_TICKS; i++) {
				if (i % 5 === 0) {
					context.fillText(i,
						AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS,
						AXIS_ORIGIN.y - i * VERTICAL_TICK_SPACING);
				}
			}
		}
 
		function drawGrid(color, stepx, stepy) {
			context.save()
			context.strokeStyle = color;
			context.fillStyle = '#ffffff';
			context.lineWidth = 0.5;
			context.fillRect(0, 0, context.canvas.width, context.canvas.height);
			for (var i = stepx + 0.5; i < context.canvas.width; i += stepx) {
				context.beginPath();
				context.moveTo(i, 0);
				context.lineTo(i, context.canvas.height);
				context.stroke();
			}
			for (var i = stepy + 0.5; i < context.canvas.height; i += stepy) {
				context.beginPath();
				context.moveTo(0, i);
				context.lineTo(context.canvas.width, i);
				context.stroke();
			}
			context.restore();
		}
		context.font = "13px Arial";
		
		drawGrid("lightgray", 10, 10);
		
		context.shadowColor = "rgba(100, 140, 230, 0.8)";
		context.shadowOffsetX = 3;
		context.shadowOffsetY = 3;
		context.shadowBlur = 5;
		
		drawAxes();
		drawAxisLabels();
	</script>
 
</html>

