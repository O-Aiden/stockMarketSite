---
desc: ç”± genpost (https://github.com/hidevopsio/genpost) ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆ
title: åæ ‡test
date: 2019-09-11T13:45:57+08:00
author: Aiden
draft: false
tags:
- é‡‘é’±çˆ†è®°å½•
---
<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		#canvas {
			border: thin solid red;
		}
	</style>
</head>

<body>
	<canvas id="canvas" width="800" height="600"></canvas>
	<!--
	<button type="button" onclick="javascript:huaShiXian(0,35,35,0)">çº¿ä¸€</button>
	<button type="button" onclick="javascript:huaShiXian(0,50,50,0)">çº¿äºŒ</button>
	<button type="button" onclick="javascript:huaXuXian(0,0,10,10)">çº¿ä¸‰</button>
	<button type="button" onclick="javascript:huaXian(0,0,25,25,'red',2,8)">çº¿å››</button>
	-->

</body>
<script type="text/javascript">
	var canvas = document.getElementById("canvas");
	var context = canvas.getContext("2d");
	//è‡ªé€‚åº”
	//canvas.width = document.documentElement.clientWidth;
	//canvas.height = document.documentElement.clientHeight;
	canvas.width = 1000;
	//canvas.height = 900;

	//æ°´å¹³æ ‡å°ºä¸canvasçš„è·ç¦»
	var HORIZONTAL_AXIS_MARGIN = 50;
	//ç«–ç›´æ ‡å°ºä¸canvasçš„è·ç¦»
	var VERTICAL_AXIS_MARGIN = 50;
	//æ ‡å°ºèµ·ç‚¹
	var AXIS_ORIGIN = {
		x: HORIZONTAL_AXIS_MARGIN,
		y: canvas.height - VERTICAL_AXIS_MARGIN
	};
	//åæ ‡çš„é¡¶éƒ¨
	var AXIS_TOP = VERTICAL_AXIS_MARGIN;
	//åæ ‡çš„é•¿åº¦
	var AXIS_RIGHT = canvas.width - HORIZONTAL_AXIS_MARGIN;
	//å°æ ‡è®°çš„é—´éš”
	var HORIZONTAL_TICK_SPACING = 10;
	var VERTICAL_TICK_SPACING = 10;
	//åæ ‡æ ‡è®°çš„èŒƒå›´
	var AXIS_WIDTH = AXIS_RIGHT - AXIS_ORIGIN.x;
	var AXIS_HEIGHT = AXIS_ORIGIN.y - AXIS_TOP;
	//çºµå‘æ ‡è®°æ•°å€¼
	var NUM_VERTICAL_TICKS = AXIS_HEIGHT / VERTICAL_TICK_SPACING;
	//æ¨ªå‘æ ‡è®°æ•°å€¼
	var NUM_HORIZONTAL_TICKS = AXIS_WIDTH / HORIZONTAL_TICK_SPACING;
	var TICK_WIDTH = 10;
	//æ ‡ç‰Œå’Œåæ ‡è½´ä¹‹é—´çš„è·ç¦»
	var SPACE_BETWEEN_ABELS_AND_AXIS = 20;



	function drawAxes() {
		context.save();
		context.lineWidth = 1.0;
		context.fillStyle = "rgba(100, 140, 230, 0.8)";
		context.strokeStyle = "navy";
		drawHorizontalAxis();
		drawVerticalAxis();
		xieZi('ä»·æ ¼',0,51);
		xieZi('æ”¶å…¥',71,-1);

		context.lineWidth = 0.5;
		context.strokeStyle = "navy";
		context.strokeStyle = "darkred";
		drawVerticalAxisTicks();
		drawHorizontalAxisTicks();
		context.restore();
	}




	//å»¶æ—¶ç”»çº¿,e:å»¶æ—¶æ—¶é—´
	function yanShiHuaXian(a, b, c, d, yanShi) {
		var t = null;    //åˆå§‹åŒ–å®šæ—¶å™¨
		//e/10æ¯«ç§’æ‰§è¡Œä¸€æ¬¡
		t = setInterval(function () {
			//context.clearRect(0,0,context.width,context.height);	//æ¯æ¬¡æ¸…ç©ºä¸Šæ¬¡ç”»å¸ƒ
			huaShiXian(a, b, c, d);
		}, yanShi)
	}



	//ç»˜åˆ¶æ°´å¹³çš„å°æ ‡

	function drawHorizontalAxisTicks() {
		var deltaY;
		for (var i = 1; i < NUM_HORIZONTAL_TICKS; i++) {
			context.beginPath();
			//åˆ¤æ–­ç”»çš„æ˜¯å¤§åæ ‡è¿˜æ˜¯çŸ­åæ ‡
			if (i % 5 == 0) {
				deltaY = TICK_WIDTH;
			} else {
				deltaY = TICK_WIDTH / 2
			}
			context.moveTo(AXIS_ORIGIN.x + i * HORIZONTAL_TICK_SPACING,
				AXIS_ORIGIN.y - deltaY);
			context.lineTo(AXIS_ORIGIN.x + i * HORIZONTAL_TICK_SPACING,
				AXIS_ORIGIN.y + deltaY);
			context.stroke();
		}
	}

	//ç»˜åˆ¶æ•°å€¼çš„å°æ ‡
	function drawVerticalAxisTicks() {
		var deltaX;
		for (var i = 1; i < NUM_VERTICAL_TICKS; i++) {
			context.beginPath();
			if (i % 5 === 0) {
				deltaX = TICK_WIDTH;
			} else {
				deltaX = TICK_WIDTH / 2;
			}
			context.moveTo(AXIS_ORIGIN.x - deltaX,
				AXIS_ORIGIN.y - i * VERTICAL_TICK_SPACING);
			context.lineTo(AXIS_ORIGIN.x + deltaX,
				AXIS_ORIGIN.y - i * VERTICAL_TICK_SPACING);
			context.stroke();
		}
	}

	//ç”»ç«–ç›´çº¿
	function drawVerticalAxis() {
		context.beginPath();
		context.moveTo(AXIS_ORIGIN.x, AXIS_ORIGIN.y);
		context.lineTo(AXIS_ORIGIN.x, AXIS_TOP);
		context.stroke();
	}



	//drawXieAxis(550,550,50,50)
	//ç”»å®çº¿
	function huaShiXian(a, b, c, d,color,xianKuan) {
		// è®¾ç½®çº¿å®½
		if (!xianKuan) { xianKuan = 2 }
		context.lineWidth = xianKuan;
		context.beginPath();
		context.moveTo((a / 5 + 1) * 50, (11 - b / 5) * 50);
		context.lineTo((c / 5 + 1) * 50, (11 - d / 5) * 50);
		//context.moveTo(AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS + a * 10,
		//	AXIS_ORIGIN.y - 0 * VERTICAL_TICK_SPACING + -b * 10);
		//context.lineTo(AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS + c * 10,
		//	AXIS_ORIGIN.y - 0 * VERTICAL_TICK_SPACING + -d * 10);
		// å¡«å……é¢œè‰²
		if (!color) { color = "black" }
		context.strokeStyle = color;
		context.stroke();
	}
	/*
	//ç”»è™šçº¿,abcdä¸ºåæ ‡ï¼Œeä¸ºé¢œè‰²
	function huaXuXian(a, b, c, d) {
		// è®¾ç½®çº¿å®½
		context.lineWidth = 4;
		// è®¾ç½®é—´è·ï¼ˆå‚æ•°ä¸ºæ— é™æ•°ç»„ï¼Œè™šçº¿çš„æ ·å¼ä¼šéšæ•°ç»„å¾ªç¯ï¼‰
		context.setLineDash([8, 8]);
		context.beginPath();
		context.moveTo((a / 5 + 1) * 50, (11 - b / 5) * 50);
		context.lineTo((c / 5 + 1) * 50, (11 - d / 5) * 50);
		// å¡«å……é¢œè‰²
		context.strokeStyle = "red";
		context.stroke();
	}
	*/

	//ç”»è™šçº¿,abcdä¸ºåæ ‡ï¼Œcolorä¸ºé¢œè‰²,eä¸ºçº¿å®½,fè°ƒè™šçº¿
	function huaXuXian(a, b, c, d, color, xianKuan, xuXian) {
		// è®¾ç½®çº¿å®½
		if (!xianKuan) { xianKuan = 2 }
		context.lineWidth = xianKuan;
		// è®¾ç½®é—´è·ï¼ˆå‚æ•°ä¸ºæ— é™æ•°ç»„ï¼Œè™šçº¿çš„æ ·å¼ä¼šéšæ•°ç»„å¾ªç¯ï¼‰
		if (!xuXian) {xuXian = 8}
		else{
		context.setLineDash([xuXian, xuXian]);
		}
		context.beginPath();
		//context.moveTo(AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS + a * 10,
		//	AXIS_ORIGIN.y - 0 * VERTICAL_TICK_SPACING + -b * 10);
		//context.lineTo(AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS + c * 10,
		//	AXIS_ORIGIN.y - 0 * VERTICAL_TICK_SPACING + -d * 10);
		context.moveTo((a / 5 + 1) * 50, (11 - b / 5) * 50);
		context.lineTo((c / 5 + 1) * 50, (11 - d / 5) * 50);
		// å¡«å……é¢œè‰²
		if (!color) { color = "black" }
		context.strokeStyle = color;
		context.stroke();
	}

	//ç”»æ°´å¹³çº¿
	function drawHorizontalAxis() {
		context.beginPath();
		context.moveTo(AXIS_ORIGIN.x, AXIS_ORIGIN.y);
		context.lineTo(AXIS_RIGHT, AXIS_ORIGIN.y);
		context.stroke();
	}
	//ç»˜åˆ¶æ ‡æ³¨
	function drawAxisLabels() {
		context.fillStyle = "blue";
		drawHorizontalAxisLabels();
		//å†™å­—ğŸ¥¿
		//xieZi('é‡‘é’±çˆ†',10,50);
		drawVerticalAxisLabels();
	}
	//ç»˜åˆ¶ç«–ç›´è½´æ ‡æ³¨

	function drawVerticalAxisLabels() {
		context.textAlign = "center";
		context.textBaseline = "top";
		for (var i = 0; i <= NUM_HORIZONTAL_TICKS; i++) {
			if (i % 5 === 0) {
				context.fillText(i,
					AXIS_ORIGIN.x + i * HORIZONTAL_TICK_SPACING,
					AXIS_ORIGIN.y + SPACE_BETWEEN_ABELS_AND_AXIS);
			}
		}
	}


/*
	//å†™å­—,c:éœ€è¦å¤‡æ³¨çš„å­—ï¼Œa:æ¨ªåæ ‡,b:çºµåæ ‡,
	function xieZi(c, a, b) {
		context.fillStyle = "blue";
		context.fillText(c,
			AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS + a * 10,
			AXIS_ORIGIN.y - 0 * VERTICAL_TICK_SPACING + -b * 10);
	}
	*/

		//å†™å­—,c:éœ€è¦å¤‡æ³¨çš„å­—ï¼Œa:æ¨ªåæ ‡,b:çºµåæ ‡,
		function xieZi(font, a, b,color) {
		//if(!maxWith){maxWith=2}
		if(!color){color="blue"}
		context.fillStyle = color;
		context.fillText(font,
			AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS + a * 10,
			AXIS_ORIGIN.y - 0 * VERTICAL_TICK_SPACING + -b * 10);
	}

	/**
* ç”»ç‚¹
* @param point  ç‚¹
*/
/*
	function huaDian(a,b) {
		context.beginPath();
		//context.moveTo((a / 5 + 1) * 50, (11 - b / 5) * 50);
		//context.lineTo((a / 5 + 1) * 50, (11 - b / 5) * 50);
		context.moveTo(AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS + a * 10,
			AXIS_ORIGIN.y - 0 * VERTICAL_TICK_SPACING + -b * 10);
		context.lineTo(AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS + c * 10,
			AXIS_ORIGIN.y - 0 * VERTICAL_TICK_SPACING + -d * 10);
		context.stroke();
	}
	//huaDian(4,7);
*/

	//ç»˜åˆ¶æ°´å¹³è½´æ ‡æ³¨

	function drawHorizontalAxisLabels() {
		context.textAlign = "center";
		context.textBaseline = "middle";
		for (var i = 0; i <= NUM_VERTICAL_TICKS; i++) {
			if (i % 5 === 0) {
				context.fillText(i,
					AXIS_ORIGIN.x - SPACE_BETWEEN_ABELS_AND_AXIS,
					AXIS_ORIGIN.y - i * VERTICAL_TICK_SPACING);
			}
		}
	}

	function drawGrid(color, stepx, stepy) {
		context.save()
		context.strokeStyle = color;
		context.fillStyle = '#ffffff';
		context.lineWidth = 0.5;
		context.fillRect(0, 0, context.canvas.width, context.canvas.height);
		for (var i = stepx + 0.5; i < context.canvas.width; i += stepx) {
			context.beginPath();
			context.moveTo(i, 0);
			context.lineTo(i, context.canvas.height);
			context.stroke();
		}
		for (var i = stepy + 0.5; i < context.canvas.height; i += stepy) {
			context.beginPath();
			context.moveTo(0, i);
			context.lineTo(context.canvas.width, i);
			context.stroke();
		}
		context.restore();
	}
	context.font = "13px Arial";

	drawGrid("lightgray", 10, 10);

	context.shadowColor = "rgba(100, 140, 230, 0.8)";
	context.shadowOffsetX = 3;
	context.shadowOffsetY = 3;
	context.shadowBlur = 5;


	drawAxes();
	drawAxisLabels();
	xieZi('é‡‘é’±çˆ†', 10, 50);
	//çº¿D1
	xieZi('D1', 50,15);
	xieZi('â­•ï¸(1)', 37.6, 31.2);
	huaShiXian(15,50,50,15);
	//çº¿D2
	xieZi('D2', 35,1);
	xieZi('â­•ï¸(2)', 16.8, 22.7);
	huaShiXian(1,35,35,1);
	//çº¿D3
	xieZi('D3', 45,10);
	//setTimeout("xieZi('â­•ï¸(3)', 17, 41.55)",5000);
	xieZi('â­•ï¸(3)', 17, 41.55);
	huaShiXian(10,45,45,10);
	//çº¿s1
	xieZi('S1', 46,40);
	huaShiXian(10,10,46,40);
	//å®çº¿S2
	xieZi('S2', 14,50);
	huaShiXian(14,50,14,0);	
	//è™šçº¿P1
	xieZi('P1', 5,30.5);
	huaXuXian(0,30.5,35.5,30.5,'red',1,3);
	//è™šçº¿I1
	xieZi('I1', 35.5,7);
	huaXuXian(34.5,0,34.5,30.5,'red',1,3);
	//è™šçº¿P2
	xieZi('P2', 5,22);
	huaXuXian(0,22,14,22,'red',1,3);
	//è™šçº¿I2
	xieZi('I2', 18,5);
	huaXuXian(14,22,14,0,'red',1,3);
	//è™šçº¿P3
	xieZi('P3', 5,41,);
	huaXuXian(0,41,14,41,'red',1,3);		
	//è™šçº¿I3
	xieZi('I3', 14,5);
	//å¤‡æ³¨ï¼ˆå›¾ä¸Šï¼‰
	xieZi('éœ€æ±‚æ›²ç·šç§»å‹•æ›´å¤§', 47,8,"red");
	xieZi('è²¡æ”¿/è²¨å¹£åˆºæ¿€éœ€æ±‚æ›²ç·šç§»å›', 47,12,"red");
	xieZi('å† çŠ¶ç—…æ¯’é€ æˆä¾›çµ¦æ›²ç·šå·¦ç§»è‡³ç„¡å¼¾æ€§ä¾›çµ¦', 29,52,"red");
	//å¤‡æ³¨
	xieZi('ç‚¹(1)ï¼šæ­£å¸¸ç»æµä¸‹çš„å¸‚åœºå‡è¡¡ä»·æ ¼å’Œæ”¶å…¥(çœ‹æˆæ‰€å¯¹åº”çš„æ•°é‡æ›´å¥½ç†è§£ï¼›', 74,50,"red");
	xieZi('ç‚¹(2)ï¼šè¢«ç–«æƒ…å½±å“åï¼Œä¾›ç»™æ— å¼¹æ€§(ä»·æ ¼å†æ€ä¹ˆæ³¢åŠ¨ï¼Œä½†ä¾›ç»™æ•°é‡å—åˆ°ä¾›åº”é“¾', 75,48,"red");
	xieZi('æ–­è£‚å½±å“ä¸­çŸ­æœŸä¸å˜ï¼Œçº¿ç”±S1å˜åˆ°S2)ï¼Œéœ€æ±‚ä¸‹æ»‘(çº¿ç”±D1ä¸‹æ»‘åˆ°D2)ï¼Œ', 77.5,46,"red");
	xieZi('æ–°çš„å¸‚åœºå‡è¡¡ä»·æ ¼å’Œæ•°é‡ä¸ºç‚¹(2)ï¼›', 67.3,44,"red");
	xieZi('ç‚¹(3)ï¼šæ”¿åºœéƒ¨é—¨å…¥å¸‚å¹²é¢„ï¼Œå‘å¸ƒçº¾å›°æ–¹æ¡ˆï¼Œé€šè¿‡å°é’å¢åŠ éœ€æ±‚ï¼Œä½†ç”±äºä¾›ç»™', 75,42,"red");
	xieZi('ä»è·Ÿä¸ä¸Š(ä¾›ç»™è€…å¼¹æ€§å—åˆ°ä¼¤å®³åæ›´éš¾è°ƒæ•´)ï¼Œé€ æˆè¿‡å¤šçš„è´§å¸è¿½é€ä¸è¶³', 77,40,"red");
	xieZi('çš„å•†å“çš„å±€é¢ï¼Œä»·æ ¼ç‹‚é£™ï¼Œå³ç‚¹(3)ï¼›', 67.6,38,"red");
	xieZi('#å‡ ä¹æ¯æ¬¡ç»æµå¤§è§æ¡åéƒ½ä¼´éšç€å·¨å¤§çš„é€šèƒ€ï¼Œä¸ç®¡æ˜¯2008å¹´ã€1960å¹´ã€', 74.3,36,"red");
	xieZi('1900å¹´ï¼Œè€Œç°åœ¨ï¼Œå¤§è§æ¡å·²ç»å‘ç”Ÿäº†ï¼Œé•¿æœŸç”Ÿäº§åŠ›å’Œä»·æ ¼èƒŒç¦»å·²ç»', 75.8,34,"red");
	xieZi('å‘ç”Ÿå¾ˆä¹…ï¼Œé•¿æœŸä¼ä¸šæŠ•èµ„ä¸è¶³ä¹Ÿå·²ç»å‘ç”Ÿå¾ˆä¹…äº†ï¼Œæ‰€ä»¥ä¸€ä¸ªè¶…çº§é€š', 75.8,32,"red");
	xieZi('è†¨çš„æ—¶ä»£å³å°†å‡ºç°ï¼Œè€Œè¿™ä¹Ÿæ˜¯é»„é‡‘2020ä¸Šçœ‹2020çš„å‰§æœ¬ï¼›', 73.5,30,"red");

	//ç®­å¤´
	function jianTou1(tuBiao,x,y,frequency) {
		//tuBiao:å›¾æ ‡,x:æ¨ªåæ ‡ï¼Œy:çºµåæ ‡ï¼Œfrequency:å¾ªç¯æ¬¡æ•°
		for (let index = 0; index < frequency; index = index + 1.5) {
			xieZi(tuBiao,x+index,y+index);
			
		}

	}
		//D2åˆ°D3
		function jianTou2(tuBiao,x,y,frequency) {
		//tuBiao:å›¾æ ‡,x:æ¨ªåæ ‡ï¼Œy:çºµåæ ‡ï¼Œfrequency:å¾ªç¯æ¬¡æ•°
		for (let index = 0; index < frequency; index = index + 3) {
			xieZi(tuBiao,x-index,y);
			
		}

	}
	jianTou1('â‡—',37,5,7);
	jianTou1('â‡™',39,3,13);
	jianTou2('âŸ¸',42,37,25);


</script>

</html>